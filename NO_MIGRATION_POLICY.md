# 无迁移无兼容政策 (NO MIGRATION POLICY)

## 🚨 核心原则

**本项目严格遵循"无迁移无兼容"原则：**

1. **无数据迁移** - 不允许任何数据库迁移代码
2. **无向后兼容** - 不需要保持向后兼容性
3. **无历史包袱** - 项目未上线，可以随时重构

## ❌ 禁止的代码模式

### 数据库迁移相关
- `ALTER TABLE` 语句用于添加字段
- `_migrate_*` 方法
- `migration`、`migrate` 相关函数
- 字段存在性检查 (`column_exists`)
- 数据回填逻辑
- 表结构升级代码

### 向后兼容相关
- `backward_compatibility` 相关代码
- 版本检查和升级逻辑
- 旧格式数据处理
- 兼容性测试

## ✅ 正确的做法

1. **直接修改表结构** - 在 `_create_tables()` 中直接定义完整的表结构
2. **重新创建数据库** - 如果需要修改结构，直接删除重建
3. **简洁的索引创建** - 直接创建所需索引，不检查字段存在性

## 🔍 检查清单

在编写代码时，确保：

- [ ] 没有使用 `ALTER TABLE` 添加字段
- [ ] 没有 `_migrate_*` 方法
- [ ] 没有字段存在性检查
- [ ] 没有数据回填逻辑
- [ ] 没有向后兼容代码
- [ ] 表结构在 `_create_tables()` 中完整定义

## 📝 违规处理

如发现违反此政策的代码：

1. **立即删除** 所有迁移相关代码
2. **重构表结构** 在创建表时直接定义完整结构
3. **更新文档** 确保文档反映当前状态

---

**记住：这是一个开发中的项目，没有历史包袱，保持简洁！**